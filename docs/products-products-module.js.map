{"version":3,"sources":["./src/app/panels/merchant/products/products.module.ts","./src/app/panels/merchant/products/inventory/inventory.component.ts","./src/app/panels/merchant/products/inventory/inventory.component.html","./src/app/panels/merchant/products/products-routing.module.ts","./src/app/panels/merchant/products/issues/issues.component.ts","./src/app/panels/merchant/products/issues/issues.component.html","./src/app/panels/merchant/products/products.component.ts","./src/app/panels/merchant/products/products.component.html","./src/app/panels/merchant/products/bundle/bundle.component.ts","./src/app/panels/merchant/products/bundle/bundle.component.html","./src/app/panels/merchant/products/inventory/bulk-upload/bulk-upload.component.ts","./src/app/panels/merchant/products/inventory/bulk-upload/bulk-upload.component.html","./src/app/services/productTax/product-tax.service.ts"],"names":[],"mappings":"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","file":"products-products-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { NgxPaginationModule } from 'ngx-pagination';\r\nimport { ProductsRoutingModule } from './products-routing.module';\r\nimport { ProductsComponent } from './products.component';\r\nimport { InventoryComponent } from './inventory/inventory.component';\r\nimport { BundleComponent } from './bundle/bundle.component';\r\nimport { IssuesComponent } from './issues/issues.component';\r\nimport { AutocompleteLibModule } from 'angular-ng-autocomplete';\r\nimport { BulkUploadComponent } from './inventory/bulk-upload/bulk-upload.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProductsComponent,\r\n    InventoryComponent,\r\n    BundleComponent,\r\n    IssuesComponent,\r\n    BulkUploadComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgxPaginationModule,\r\n    ProductsRoutingModule,\r\n    AutocompleteLibModule,\r\n  ],\r\n})\r\nexport class ProductsModule {}\r\n","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ProductLibraryService } from '../../../../services/productLibrary/product-library.service';\r\nimport { ShopService } from '../../../../services/shop/shop.service';\r\nimport { ProductCatalogService } from '../../../../services/productCatalog/product-catalog.service';\r\nimport { ProductTaxService } from '../../../../services/productTax/product-tax.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { SocketService } from '../../../../services/socket/socket.service';\r\n\r\n@Component({\r\n  selector: 'app-inventory',\r\n  templateUrl: './inventory.component.html',\r\n  styleUrls: ['./inventory.component.scss'],\r\n})\r\nexport class InventoryComponent implements OnInit, OnDestroy {\r\n  constructor(\r\n    private spinner: NgxSpinnerService,\r\n    private toastr: ToastrService,\r\n    private shopService: ShopService,\r\n    private productLibraryService: ProductLibraryService,\r\n    private productCatalogService: ProductCatalogService,\r\n    private productTaxService: ProductTaxService,\r\n    private socketService: SocketService\r\n  ) {\r\n    this.socketService.setupSocketConnection();\r\n    this.config = {\r\n      itemsPerPage: 5,\r\n      currentPage: 1,\r\n      totalItems: null,\r\n    };\r\n    this.shopService.selectedShopId.subscribe((data: any) => {\r\n      if (data) {\r\n        this.getProductByShop(data);\r\n      }\r\n    });\r\n    this.getSuggestion();\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n  ngOnDestroy(): void {\r\n    this.socketService.closeConnection();\r\n  }\r\n\r\n  isBulkUpload = false;\r\n  products: any = [];\r\n  p: number = 1;\r\n  config: any;\r\n  pageSizes = [5, 10, 25, 50];\r\n\r\n  toggle(index) {\r\n    this.products[index].action = !this.products[index].action;\r\n  }\r\n\r\n  toggleBulkUpload() {\r\n    this.isBulkUpload = !this.isBulkUpload;\r\n  }\r\n  getProductByShop(shopId) {\r\n    this.productCatalogService\r\n      .getProductsByShop(shopId, this.config.currentPage, this.config.itemsPerPage)\r\n      .subscribe(\r\n        (data) => {\r\n          this.config.totalItems = data.total;\r\n          this.products = data.body;\r\n          const newObj = {\r\n            taxes: [\r\n              { id: 1, shortName: 'GST', value: 0,},\r\n              { id: 2, shortName: 'HST', value: 0 },\r\n              { id: 3, shortName: 'PST', value: 0 },\r\n              { id: 4, shortName: 'QST', value: 0 },\r\n            ],\r\n            taxesUnits:[\r\n              {id: 1, symbol:'%'},\r\n              {id: 2, symbol:'xx'}\r\n            ],\r\n            selectedTax: 0,\r\n            selectedFees: 0,\r\n            action: false,\r\n            isNewProduct: false,\r\n          };\r\n          this.products = this.products.flat().map((p) => Object.assign(p, newObj));\r\n          this.products.map((p) => {\r\n            p.image_link = p.image_link.replace('images/', '');\r\n            p.fees = [\r\n              {\r\n                id: 1,\r\n                shortName: 'ENV',\r\n                value: p.environmentfees,\r\n              },\r\n              { id: 2, shortName: 'REC', value: p.recyclefees },\r\n            ];\r\n          });\r\n          console.log(this.products);\r\n          this.productTaxService.getProductTaxByShop(this.products.length, 1, shopId).subscribe(\r\n            (data) => {\r\n              console.log(data.body.data);\r\n              this.products.map((p) => {\r\n                const taxes = data.body.data.filter((t) => t.productId == p.id);\r\n                console.log(taxes);\r\n                p.taxes[0].value = taxes.find((t) => t.taxId == 1).percent;\r\n                p.taxes[1].value = taxes.find((t) => t.taxId == 2).percent;\r\n                p.taxes[2].value = taxes.find((t) => t.taxId == 3).percent;\r\n                p.taxes[3].value = taxes.find((t) => t.taxId == 4).percent;\r\n                p.taxes = JSON.stringify(p.taxes);\r\n                p.taxes = JSON.parse(p.taxes);\r\n                console.log(this.products);\r\n              });\r\n            },\r\n            (error) => {}\r\n          );\r\n        },\r\n        (error) => {\r\n          this.toastr.error(error.error.message, 'Error');\r\n        }\r\n      );\r\n  }\r\n\r\n  save(index) {\r\n    console.log(this.products[index].productName);\r\n    if (this.products[index].productName) {\r\n      const productCatalogPayload = {\r\n        shopId: this.shopService.selectedShopId.getValue(),\r\n        productLibraryId: this.products[index].productLibraryId,\r\n        price: this.products[index].price,\r\n        stock: this.products[index].stock,\r\n        environmentFees: this.products[index].fees[0].value,\r\n        tax: 0,\r\n        recycleFees: this.products[index].fees[1].value,\r\n      };\r\n      const productTaxesPayload = {\r\n        productTaxes: [],\r\n      };\r\n\r\n      this.spinner.show();\r\n      this.productCatalogService.addProduct(productCatalogPayload).subscribe(\r\n        (data) => {\r\n          this.products[index].taxes.map((item) => {\r\n            const obj = {\r\n              productId: data.result.id,\r\n              taxId: item.id,\r\n              percent: item.value,\r\n              amount: (this.products[index].price * item.value) / 100,\r\n            };\r\n            productTaxesPayload.productTaxes.push(obj);\r\n          });\r\n          console.log(productTaxesPayload);\r\n          this.productTaxService.addProductTax(productTaxesPayload).subscribe(\r\n            (data) => {\r\n              console.log(data);\r\n              // this.toastr.success(data.message, 'Success');\r\n              this.spinner.hide();\r\n              // this.toggle(index);\r\n              this.products[index].product_name = this.products[index].productName.product_name;\r\n              this.products[index].action = false;\r\n              this.products[index].isNewProduct = false;\r\n              console.log(this.products[index]);\r\n            },\r\n            (error) => {\r\n              this.toastr.error(error.error.message, 'Error');\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n        },\r\n        (error) => {\r\n          this.toastr.error(error.error.message, 'Error');\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  update(index) {\r\n    console.log(this.products[index].id);\r\n    if (this.products[index].product_name) {\r\n      this.products[index].action = !this.products[index].action;\r\n      console.log(this.products[index]);\r\n      const productCatalogPayload = {\r\n        shopId: this.shopService.selectedShopId.getValue(),\r\n        price: this.products[index].price,\r\n        stock: this.products[index].stock,\r\n        environmentFees: this.products[index].fees[0].value,\r\n        recycleFees: this.products[index].fees[1].value,\r\n      };\r\n      const productTaxesPayload = {\r\n        productTaxes: [],\r\n      };\r\n\r\n      console.log(productCatalogPayload, this.products[index].id);\r\n\r\n      this.spinner.show();\r\n      this.productCatalogService\r\n        .updateProductByProductId(productCatalogPayload, this.products[index].id)\r\n        .subscribe(\r\n          (data) => {\r\n            console.log(data);\r\n            this.products[index].taxes.map((item) => {\r\n              const obj = {\r\n                taxId: item.id,\r\n                percent: item.value,\r\n                amount: (this.products[index].price * item.value) / 100,\r\n              };\r\n              productTaxesPayload.productTaxes.push(obj);\r\n            });\r\n            console.log(productTaxesPayload);\r\n            this.productTaxService\r\n              .updateProductTax(productTaxesPayload, this.products[index].id)\r\n              .subscribe(\r\n                (data) => {\r\n                  console.log(data);\r\n                  // this.toastr.success(data.message, 'Success');\r\n                  this.spinner.hide();\r\n                },\r\n                (error) => {\r\n                  this.toastr.error(error.error.message, 'Error');\r\n                  this.spinner.hide();\r\n                }\r\n              );\r\n          },\r\n          (error) => {\r\n            this.toastr.error(error.error.message, 'Error');\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  publishAll() {\r\n    const productPayload = [];\r\n    const selectedProducts = this.products.filter((it) => it.action);\r\n\r\n    if (!selectedProducts.length) {\r\n      this.toastr.error('Please Select the item to publish', 'Error');\r\n      return false;\r\n    }\r\n\r\n    let productLibraries = [];\r\n    let errorMessage = '';\r\n\r\n    selectedProducts.map((item, index) => {\r\n      const productLibraryId = item.isNewProduct ? item.productLibraryId : item.productlibraryid;\r\n      console.log(index);\r\n      if (productLibraries.includes(productLibraryId)) {\r\n        errorMessage = 'There is a duplicate item';\r\n        return false;\r\n      } else {\r\n        productLibraries.push(productLibraryId);\r\n      }\r\n    });\r\n\r\n    if (errorMessage) {\r\n      this.toastr.error(errorMessage, 'Error');\r\n      return false;\r\n    }\r\n\r\n    selectedProducts.map((item) => {\r\n      if (!item.productName && !item.product_name) {\r\n        errorMessage = 'Please fill the item detail first';\r\n        return false;\r\n      }\r\n      const obj = {\r\n        shopId: this.shopService.selectedShopId.getValue(),\r\n        productLibraryId: item.isNewProduct ? item.productLibraryId : item.productlibraryid,\r\n        price: item.price,\r\n        stock: item.stock,\r\n        environmentFees: item.fees[0].value,\r\n        recycleFees: item.fees[1].value,\r\n        tax: item.isNewProduct ? 0 : item.tax,\r\n        isPublished: true,\r\n      };\r\n      productPayload.push(obj);\r\n    });\r\n\r\n    if (errorMessage) {\r\n      this.toastr.error(errorMessage, 'Error');\r\n      return false;\r\n    }\r\n    console.log(productPayload);\r\n\r\n    this.spinner.show();\r\n    this.productCatalogService.bulkUpsertProducts({ products: productPayload }).subscribe(\r\n      (data) => {\r\n        console.log(data);\r\n        const taxPayload = [];\r\n        selectedProducts.map((item) => {\r\n          const productLibraryId = item.isNewProduct\r\n            ? item.productLibraryId\r\n            : item.productlibraryid;\r\n          item.taxes.map((tax) => {\r\n            const obj2 = {\r\n              productId: data.result.generatedMaps.find(\r\n                (it) => it.productLibraryId == productLibraryId\r\n              ).id,\r\n              taxId: tax.id,\r\n              percent: tax.value,\r\n              amount: (item.price * tax.value) / 100,\r\n            };\r\n            taxPayload.push(obj2);\r\n          });\r\n        });\r\n        console.log(taxPayload);\r\n        this.productTaxService.bulkUpsertProductTax({ productTaxes: taxPayload }).subscribe(\r\n          (data) => {\r\n            selectedProducts.map((item) => {\r\n              item.action = false;\r\n            });\r\n            this.spinner.hide();\r\n            console.log(data);\r\n          },\r\n          (error) => {}\r\n        );\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  unpublishAll() {\r\n    const productPayload = [];\r\n    const selectedProducts = this.products.filter((it) => it.action);\r\n\r\n    if (!selectedProducts.length) {\r\n      this.toastr.error('Please Select the item to unpublish', 'Error');\r\n      return false;\r\n    }\r\n\r\n    let productLibraries = [];\r\n    let errorMessage = '';\r\n\r\n    selectedProducts.map((item, index) => {\r\n      const productLibraryId = item.isNewProduct ? item.productLibraryId : item.productlibraryid;\r\n      console.log(index);\r\n      if (productLibraries.includes(productLibraryId)) {\r\n        errorMessage = 'There is a duplicate item';\r\n        return false;\r\n      } else {\r\n        productLibraries.push(productLibraryId);\r\n      }\r\n    });\r\n\r\n    if (errorMessage) {\r\n      this.toastr.error(errorMessage, 'Error');\r\n      return false;\r\n    }\r\n\r\n    selectedProducts.map((item) => {\r\n      if (!item.productName && !item.product_name) {\r\n        errorMessage = 'Please fill the item detail first';\r\n        return false;\r\n      }\r\n      const obj = {\r\n        shopId: this.shopService.selectedShopId.getValue(),\r\n        productLibraryId: item.isNewProduct ? item.productLibraryId : item.productlibraryid,\r\n        price: item.price,\r\n        stock: item.stock,\r\n        environmentFees: item.fees[0].value,\r\n        recycleFees: item.fees[1].value,\r\n        tax: item.isNewProduct ? 0 : item.tax,\r\n        isPublished: false,\r\n      };\r\n      productPayload.push(obj);\r\n    });\r\n\r\n    if (errorMessage) {\r\n      this.toastr.error(errorMessage, 'Error');\r\n      return false;\r\n    }\r\n    console.log(productPayload);\r\n\r\n    this.spinner.show();\r\n    this.productCatalogService.bulkUpsertProducts({ products: productPayload }).subscribe(\r\n      (data) => {\r\n        console.log(data);\r\n        const taxPayload = [];\r\n        selectedProducts.map((item) => {\r\n          const productLibraryId = item.isNewProduct\r\n            ? item.productLibraryId\r\n            : item.productlibraryid;\r\n          item.taxes.map((tax) => {\r\n            const obj2 = {\r\n              productId: data.result.generatedMaps.find(\r\n                (it) => it.productLibraryId == productLibraryId\r\n              ).id,\r\n              taxId: tax.id,\r\n              percent: tax.value,\r\n              amount: (item.price * tax.value) / 100,\r\n            };\r\n            taxPayload.push(obj2);\r\n          });\r\n        });\r\n        console.log(taxPayload);\r\n        this.productTaxService.bulkUpsertProductTax({ productTaxes: taxPayload }).subscribe(\r\n          (data) => {\r\n            selectedProducts.map((item) => {\r\n              item.action = false;\r\n            });\r\n            this.spinner.hide();\r\n            console.log(data);\r\n          },\r\n          (error) => {}\r\n        );\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  delete(index) {\r\n    console.log(this.products[index].id);\r\n    if (!this.products[index].isNewProduct) {\r\n      this.products[index].action = !this.products[index].action;\r\n      console.log(this.products[index]);\r\n      const payload = {\r\n        shopId: this.shopService.selectedShopId.getValue(),\r\n      };\r\n\r\n      this.spinner.show();\r\n      this.productCatalogService.deleteProductById(payload, this.products[index].id).subscribe(\r\n        (data) => {\r\n          console.log(data);\r\n          // this.toastr.success(data.message, 'Success');\r\n          this.spinner.hide();\r\n          this.products.splice(index, 1);\r\n        },\r\n        (error) => {\r\n          this.toastr.error(error.error.message, 'Error');\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n    } else {\r\n      this.products.splice(index, 1);\r\n    }\r\n  }\r\n  addButton() {\r\n    const obj = {\r\n      productLibraryId: null,\r\n      productName: '',\r\n      image_link: '',\r\n      price: 1,\r\n      stock: 1,\r\n      taxes: [\r\n        { id: 1, shortName: 'GST', value: 0 },\r\n        { id: 2, shortName: 'HST', value: 0 },\r\n        { id: 3, shortName: 'PST', value: 0 },\r\n        { id: 4, shortName: 'QST', value: 0 },\r\n      ],\r\n      taxesUnits:[\r\n        {id: 1, symbol:'%'},\r\n        {id: 2, symbol:'xx'}\r\n      ],\r\n      fees: [\r\n        { id: 1, shortName: 'ENV', value: 0,},\r\n        { id: 2, shortName: 'REC', value: 0 },\r\n      ],\r\n      selectedTax: 0,\r\n      selectedTaxUnitId:1,\r\n      selectedFees: 0,\r\n      environmentFees: 0,\r\n      recycleFees: 0,\r\n      action: true,\r\n      isNewProduct: true,\r\n    };\r\n    this.products.push(obj);\r\n    // this.getProductList();\r\n  }\r\n\r\n  addBulkProduct(prod) {\r\n    prod.map((item) => {\r\n      const obj = {\r\n        productLibraryId: 'suggestion' in item ? item.suggestion[0].product_id : null,\r\n        productName: 'suggestion' in item ? item.suggestion[0].product_name : '',\r\n        price: 1,\r\n        stock: 1,\r\n        taxes: [\r\n          {\r\n            id: 1,\r\n            shortName: 'GST',\r\n            value: 0,\r\n          },\r\n          { id: 2, shortName: 'HST', value: 0 },\r\n          { id: 3, shortName: 'PST', value: 0 },\r\n          { id: 4, shortName: 'QST', value: 0 },\r\n        ],\r\n        fees: [\r\n          {\r\n            id: 1,\r\n            shortName: 'ENV',\r\n            value: 0,\r\n          },\r\n          { id: 2, shortName: 'REC', value: 0 },\r\n        ],\r\n        selectedTax: 0,\r\n        selectedFees: 0,\r\n        environmentFees: 0,\r\n        recycleFees: 0,\r\n\r\n        action: true,\r\n        isNewProduct: true,\r\n      };\r\n\r\n      this.products.push(obj);\r\n    });\r\n    console.log(this.products);\r\n  }\r\n  keyword = 'name';\r\n  library = [];\r\n  taxType = [];\r\n\r\n  selectEvent(item, index) {\r\n    // do something with selected item\r\n    this.products[index].productLibraryId = item.id;\r\n    this.products[index].productName = item.name;\r\n    this.products[index].image_link = item.image_link.replace('images/', '');\r\n    console.log(item);\r\n    console.log(this.products[index]);\r\n  }\r\n\r\n  onChangeSearch(search: string) {\r\n    // fetch remote data from here\r\n    // And reassign the 'data' which is binded to 'data' property.\r\n    this.sendSearch(search);\r\n  }\r\n\r\n  onFocused(e) {\r\n    // do something\r\n  }\r\n\r\n  getProductList() {\r\n    if (this.library.length < 10)\r\n      this.productLibraryService.getProducts().subscribe((data) => {\r\n        this.library = data.body.slice(0, 1000);\r\n      });\r\n  }\r\n  getTaxesTypeList() {\r\n    if (this.productLibraryService.taxes.value.length) {\r\n      this.productLibraryService.getTaxesType().subscribe((data) => {\r\n        this.productLibraryService.setTaxesType(data.body);\r\n      });\r\n    }\r\n  }\r\n\r\n  uploadBulkProduct(payload) {\r\n    this.spinner.show();\r\n    payload.append(`shopId`, this.shopService.selectedShopId.getValue());\r\n    console.log(payload.get('products'));\r\n    console.log(payload.get('shopId'));\r\n    this.productCatalogService.bulkUpload(payload).subscribe(\r\n      (data) => {\r\n        console.log(data);\r\n        this.toastr.success(data.body, 'Success');\r\n        this.spinner.hide();\r\n        // this.addBulkProduct(data);\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        this.toastr.error(error.error.message, 'Error');\r\n        this.spinner.hide();\r\n      }\r\n    );\r\n  }\r\n\r\n  sendSearch(keyword) {\r\n    this.socketService.sendMessage(keyword);\r\n  }\r\n\r\n  getSuggestion() {\r\n    this.socketService.getSuggestion().subscribe((data) => {\r\n      console.log(data);\r\n      this.library = data;\r\n    });\r\n  }\r\n\r\n  selectAll(event) {\r\n    this.products.map((item) => {\r\n      item.action = event.currentTarget.checked;\r\n    });\r\n  }\r\n\r\n  changePageSize() {\r\n    this.getProductByShop(this.shopService.selectedShopId.getValue());\r\n  }\r\n\r\n  pageChanged(event) {\r\n    this.config.currentPage = event;\r\n    this.getProductByShop(this.shopService.selectedShopId.getValue());\r\n  }\r\n}\r\n","<div class=\"row m-0 p-3 bg-white d-flex justify-content-between align-items-center\">\r\n  <div class=\"col-md-3\"><h3>PRODUCT CATALOG</h3></div>\r\n\r\n  <div class=\"col-md-7\">\r\n    <div class=\"row float-right d-flex justify-content-center\">\r\n      <ul class=\"navbar-nav\">\r\n        <li class=\"nav-item dropdown\">\r\n          <b\r\n            class=\"nav-link dropdown-toggle text-button\"\r\n            id=\"navbarDropdownMenuLink\"\r\n            role=\"button\"\r\n            data-toggle=\"dropdown\"\r\n            aria-haspopup=\"true\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            Bulk Action\r\n          </b>\r\n          <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\r\n            <span class=\"dropdown-item\" (click)=\"publishAll()\">Publish Items</span>\r\n            <span class=\"dropdown-item\" (click)=\"unpublishAll()\">Unpublish Items</span>\r\n            <span class=\"dropdown-item\">Delete Items</span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <b class=\"text-button\" (click)=\"toggleBulkUpload()\"\r\n        >Bulk Upload\r\n        <i class=\"fa fa-upload uploadIcon\"></i>\r\n      </b>\r\n\r\n      <button type=\"button\" class=\"btn rounded-pill add-button\" (click)=\"addButton()\">\r\n        <i class=\"fa fa-plus-circle\"></i>ADD NEW PRODUCT\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<br />\r\n<div class=\"body\">\r\n  <h2 class=\"heading\">Inventory Management</h2>\r\n  <table class=\"table table-striped\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">\r\n          <label class=\"checkbox\">\r\n            <input type=\"checkbox\" (click)=\"selectAll($event)\" />\r\n            <span class=\"checkmark\"></span>\r\n          </label>\r\n        </th>\r\n        <th scope=\"col\">#</th>\r\n        <th scope=\"col\">PRODUCT NAME</th>\r\n        <th scope=\"col\">IMAGE</th>\r\n        <th scope=\"col\">PRICE</th>\r\n        <th scope=\"col\">STOCK ITEMS</th>\r\n        <th scope=\"col\">TAXES</th>\r\n        <th scope=\"col\">FEES</th>\r\n        <th scope=\"col\">Actions</th>\r\n      </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n      <tr class=\"m-2\" *ngFor=\"let item of products | paginate: config; index as i\">\r\n        <th class=\"\">\r\n          <label class=\"checkbox\">\r\n            <input type=\"checkbox\" [(ngModel)]=\"item.action\" />\r\n            <span class=\"checkmark\"></span>\r\n          </label>\r\n        </th>\r\n        <th scope=\"row\">\r\n          {{ config.itemsPerPage * config.currentPage - config.itemsPerPage + i + 1 }}\r\n        </th>\r\n        <td *ngIf=\"!item.isNewProduct\">{{ item.product_name }}</td>\r\n\r\n        <td *ngIf=\"item.isNewProduct\">\r\n          <!-- <input type=\"text\" [(ngModel)]=\"item.productName\" [disabled]=\"!item.action\" /> -->\r\n          <div class=\"ng-autocomplete\">\r\n            <ng-autocomplete\r\n              [data]=\"library\"\r\n              [searchKeyword]=\"keyword\"\r\n              placeholder=\"Enter the Product Name\"\r\n              (selected)=\"selectEvent($event, i)\"\r\n              (inputChanged)=\"onChangeSearch($event)\"\r\n              (inputFocused)=\"onFocused($event)\"\r\n              [itemTemplate]=\"itemTemplate\"\r\n              [notFoundTemplate]=\"notFoundTemplate\"\r\n              [(ngModel)]=\"item.productName\"\r\n            >\r\n            </ng-autocomplete>\r\n\r\n            <ng-template #itemTemplate let-item>\r\n              <a [innerHTML]=\"item.name\"></a>\r\n            </ng-template>\r\n\r\n            <ng-template #notFoundTemplate let-notFound>\r\n              <div [innerHTML]=\"notFound\"></div>\r\n            </ng-template>\r\n          </div>\r\n        </td>\r\n        <td class=\"product-image\">\r\n          <img\r\n            class=\"icon\"\r\n            src=\"https://storage.googleapis.com/lg-content/ProdImages/{{ item.image_link }}\"\r\n            onerror=\"this.src='../../../../assets/category/images/fruits.jpg'\"\r\n            alt=\"LG\"\r\n          />\r\n        </td>\r\n        <td>\r\n          <input type=\"number\" [(ngModel)]=\"item.price\" [disabled]=\"!item.action\" />\r\n        </td>\r\n        <td>\r\n          <input type=\"number\" [(ngModel)]=\"item.stock\" [disabled]=\"!item.action\" />\r\n        </td>\r\n        <td class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <select\r\n              class=\"custom-select input-group-text\"\r\n              id=\"inputGroupSelect01\"\r\n              [(ngModel)]=\"item.selectedTax\"\r\n            >\r\n              <option *ngFor=\"let tax of item.taxes; index as ind\" [value]=\"ind\">\r\n                {{ tax.shortName }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <input\r\n            type=\"number\"\r\n            [(ngModel)]=\"item.taxes[item.selectedTax].value\"\r\n            [disabled]=\"!item.action\"\r\n          />\r\n          <div class=\"input-group-prepend\">\r\n            <select class=\"custom-select input-group-text\" [(ngModel)]=\"item.selectedTaxUnitId\">\r\n              <option *ngFor=\"let unit of item.taxesUnits; index as ind\" [value]=\"item.selectedTaxUnitId\" >\r\n                {{ unit.symbol }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <!-- <div class=\"input-group-prepend\">\r\n            <div class=\"input-group-text\">%</div>\r\n          </div> -->\r\n        </td>\r\n        <td class=\"\">\r\n          <span class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <select\r\n                class=\"custom-select input-group-text\"\r\n                id=\"inputGroupSelect01\"\r\n                [(ngModel)]=\"item.selectedFees\"\r\n              >\r\n                <option *ngFor=\"let fees of item.fees; index as ind\" [value]=\"ind\">\r\n                  {{ fees.shortName }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <input\r\n              type=\"number\"\r\n              [(ngModel)]=\"item.fees[item.selectedFees].value\"\r\n              [disabled]=\"!item.action\"\r\n            />\r\n          </span>\r\n        </td>\r\n\r\n        <td class=\"dropdown\">\r\n          <a\r\n            class=\"btn btn-default\"\r\n            [ngClass]=\"item.action ? 'actionButtonSave' : 'actionButtonEdit'\"\r\n            data-toggle=\"dropdown\"\r\n            href=\"#\"\r\n            (click)=\"item.action ? (item.isNewProduct ? save(i) : update(i)) : toggle(i)\"\r\n          >\r\n            {{ item.action ? \"Save\" : \"Edit\" }}\r\n          </a>\r\n          <i class=\"fa fa-trash deleteIcon\" (click)=\"delete(i)\"></i>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-2\">\r\n      <div class=\"pageSizeSelect\">\r\n        <select\r\n          [(ngModel)]=\"config.itemsPerPage\"\r\n          class=\"form-control pageSizeSelect\"\r\n          (change)=\"changePageSize()\"\r\n        >\r\n          <option *ngFor=\"let pageSize of pageSizes\" [ngValue]=\"pageSize\">\r\n            {{ pageSize }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"d-flex justify-content-center\">\r\n    <pagination-controls class=\"pagination\" responsive=\"true\" (pageChange)=\"pageChanged($event)\">\r\n    </pagination-controls>\r\n  </div>\r\n  <app-bulk-upload\r\n    *ngIf=\"isBulkUpload\"\r\n    (close)=\"toggleBulkUpload()\"\r\n    (upload)=\"uploadBulkProduct($event)\"\r\n  ></app-bulk-upload>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ProductsComponent } from './products.component';\r\nimport { InventoryComponent } from './inventory/inventory.component';\r\nimport { BundleComponent } from './bundle/bundle.component';\r\nimport { IssuesComponent } from './issues/issues.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ProductsComponent,\r\n    children: [\r\n      { path: '', redirectTo: 'inventory', pathMatch: 'full' },\r\n      {\r\n        path: 'inventory',\r\n        component: InventoryComponent,\r\n        pathMatch: 'full',\r\n      },\r\n      {\r\n        path: 'bundle',\r\n        component: BundleComponent,\r\n        pathMatch: 'full',\r\n      },\r\n      {\r\n        path: 'issue',\r\n        component: IssuesComponent,\r\n        pathMatch: 'full',\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ProductsRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-issues',\r\n  templateUrl: './issues.component.html',\r\n  styleUrls: ['./issues.component.scss']\r\n})\r\nexport class IssuesComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>issues works!</p>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-products',\r\n  templateUrl: './products.component.html',\r\n  styleUrls: ['./products.component.scss']\r\n})\r\nexport class ProductsComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<router-outlet></router-outlet>","import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { ProductLibraryService } from '../../../../services/productLibrary/product-library.service';\r\nimport { ShopService } from '../../../../services/shop/shop.service';\r\nimport { BundleCatalogService } from '../../../../services/bundleCatalog/bundle-catalog.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { SocketService } from '../../../../services/socket/socket.service';\r\n\r\n@Component({\r\n  selector: 'app-bundle',\r\n  templateUrl: './bundle.component.html',\r\n  styleUrls: ['./bundle.component.scss'],\r\n})\r\nexport class BundleComponent implements OnInit, OnDestroy {\r\n  constructor(\r\n    private spinner: NgxSpinnerService,\r\n    private toastr: ToastrService,\r\n    private shopService: ShopService,\r\n    private bundleCatalogService: BundleCatalogService,\r\n    private productLibraryService: ProductLibraryService,\r\n    private socketService: SocketService\r\n  ) {\r\n    this.socketService.setupSocketConnection();\r\n    this.shopService.selectedShopId.subscribe((data: any) => {\r\n      if (data) {\r\n        this.getBundleByShop(data);\r\n      }\r\n    });\r\n    this.getSuggestion();\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n  ngOnDestroy(): void {\r\n    this.socketService.closeConnection();\r\n  }\r\n  ngOnDe;\r\n  products: any = [];\r\n\r\n  addButton() {\r\n    const obj = {\r\n      productLibraryId: null,\r\n      bundleName: '',\r\n      price: 1,\r\n      stock: 1,\r\n      productIncludes: [],\r\n      taxes: [\r\n        {\r\n          taxId: 1,\r\n          shortName: 'GST',\r\n          percent: 0,\r\n        },\r\n        { taxId: 2, shortName: 'HST', percent: 0 },\r\n        { taxId: 3, shortName: 'PST', percent: 0 },\r\n        { taxId: 4, shortName: 'QST', percent: 0 },\r\n      ],\r\n      fees: [\r\n        {\r\n          id: 1,\r\n          shortName: 'ENV',\r\n          value: 0,\r\n        },\r\n        { id: 2, shortName: 'REC', value: 0 },\r\n      ],\r\n      selectedTax: 0,\r\n      selectedFees: 0,\r\n      action: true,\r\n      isNewProduct: true,\r\n    };\r\n    this.products.push(obj);\r\n    // this.getProductList();\r\n  }\r\n\r\n  keyword = 'name';\r\n  library = [];\r\n  taxType = [];\r\n\r\n  selectEvent(item, index) {\r\n    // do something with selected item\r\n    console.log(item);\r\n    const obj = {\r\n      productLibraryId: item.id,\r\n      product_name: item.name,\r\n    };\r\n    this.products[index].productIncludes.push(obj);\r\n  }\r\n\r\n  onChangeSearch(search: string) {\r\n    // fetch remote data from here\r\n    // And reassign the 'data' which is binded to 'data' property.\r\n    this.sendSearch(search);\r\n  }\r\n\r\n  onFocused(e) {\r\n    // do something\r\n  }\r\n\r\n  getProductList() {\r\n    if (this.library.length < 10)\r\n      this.productLibraryService.getProducts().subscribe((data) => {\r\n        this.library = data.body;\r\n      });\r\n  }\r\n  getTaxesTypeList() {\r\n    if (this.productLibraryService.taxes.value.length) {\r\n      this.productLibraryService.getTaxesType().subscribe((data) => {\r\n        this.productLibraryService.setTaxesType(data.body);\r\n      });\r\n    }\r\n  }\r\n\r\n  toggle(index) {\r\n    this.products[index].action = !this.products[index].action;\r\n  }\r\n\r\n  getBundleByShop(shopId) {\r\n    this.bundleCatalogService.getBundleByShop(shopId).subscribe(\r\n      (data) => {\r\n        this.products = data.body;\r\n        const newObj = {\r\n          taxes: [\r\n            {\r\n              id: 1,\r\n              shortName: 'GST',\r\n              percent: 0,\r\n            },\r\n            { id: 2, shortName: 'HST', percent: 0 },\r\n            { id: 3, shortName: 'PST', percent: 0 },\r\n            { id: 4, shortName: 'QST', percent: 0 },\r\n          ],\r\n          selectedTax: 0,\r\n          selectedFees: 0,\r\n          action: false,\r\n          isNewProduct: false,\r\n        };\r\n        this.products = this.products.flat().map((p) => Object.assign(p, newObj));\r\n        this.products.map((p) => {\r\n          p.fees = [\r\n            {\r\n              id: 1,\r\n              shortName: 'ENV',\r\n              value: p.environmentFees,\r\n            },\r\n            { id: 2, shortName: 'REC', value: p.recycleFees },\r\n          ];\r\n        });\r\n        this.bundleCatalogService.getBundleTaxByShopId(this.products.length, 1, shopId).subscribe(\r\n          (data) => {\r\n            this.products.map((p) => {\r\n              const taxes = data.body.data.filter((t) => t.bundleId == p.id);\r\n              console.log(taxes);\r\n              p.taxes[0].percent = taxes.find((t) => t.taxId == 1).percent;\r\n              p.taxes[1].percent = taxes.find((t) => t.taxId == 2).percent;\r\n              p.taxes[2].percent = taxes.find((t) => t.taxId == 3).percent;\r\n              p.taxes[3].percent = taxes.find((t) => t.taxId == 4).percent;\r\n              p.taxes = JSON.stringify(p.taxes);\r\n              p.taxes = JSON.parse(p.taxes);\r\n            });\r\n          },\r\n          (error) => {}\r\n        );\r\n      },\r\n      (error) => {\r\n        this.toastr.error(error.error.message, 'Error');\r\n      }\r\n    );\r\n  }\r\n\r\n  save(index) {\r\n    console.log(this.shopService.selectedShopId.getValue());\r\n    if (this.products[index].bundleName) {\r\n      this.products[index].action = !this.products[index].action;\r\n      console.log(this.products[index]);\r\n      const bundleCatalogPayload = {\r\n        bundleName: this.products[index].bundleName,\r\n        shopId: this.shopService.selectedShopId.getValue(),\r\n        price: this.products[index].price,\r\n        stock: this.products[index].stock,\r\n        environmentFees: this.products[index].fees[0].value,\r\n        tax: 0,\r\n        recycleFees: this.products[index].fees[1].value,\r\n      };\r\n\r\n      const productIncludesPayload = {\r\n        bundleItems: [],\r\n      };\r\n      const productTaxesPayload = {\r\n        bundleTaxes: [],\r\n      };\r\n\r\n      console.log(bundleCatalogPayload);\r\n      console.log(productIncludesPayload);\r\n\r\n      this.spinner.show();\r\n      this.bundleCatalogService.addBundle(bundleCatalogPayload).subscribe(\r\n        (data) => {\r\n          console.log(data);\r\n          this.products[index].taxes.map((item) => {\r\n            const obj = {\r\n              bundleId: data.result.id,\r\n              taxId: item.taxId,\r\n              percent: item.percent,\r\n              amount: (this.products[index].price * item.percent) / 100,\r\n            };\r\n            productTaxesPayload.bundleTaxes.push(obj);\r\n          });\r\n\r\n          this.products[index].productIncludes.map((item) => {\r\n            const obj = {\r\n              bundleId: data.result.id,\r\n              productLibraryId: item.productLibraryId,\r\n            };\r\n            productIncludesPayload.bundleItems.push(obj);\r\n          });\r\n          console.log(productTaxesPayload);\r\n          console.log(productIncludesPayload);\r\n          // this.toastr.success(data.message, 'Success');\r\n          this.spinner.hide();\r\n          this.bundleCatalogService.addItemToBundle(productIncludesPayload).subscribe(\r\n            (data) => {\r\n              // this.toastr.success(data.message, 'Success');\r\n              this.spinner.hide();\r\n            },\r\n            (error) => {\r\n              this.toastr.error(error.error.message, 'Error');\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n          this.bundleCatalogService.addBundleTax(productTaxesPayload).subscribe(\r\n            (data) => {\r\n              console.log(data);\r\n              // this.toastr.success(data.message, 'Success');\r\n              this.spinner.hide();\r\n            },\r\n            (error) => {\r\n              this.toastr.error(error.error.message, 'Error');\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n        },\r\n        (error) => {\r\n          this.toastr.error(error.error.message, 'Error');\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  update(index) {\r\n    console.log('updating');\r\n    if (this.products[index].bundleName) {\r\n      this.products[index].action = !this.products[index].action;\r\n      console.log(this.products[index]);\r\n      const bundleCatalogPayload = {\r\n        shopId: this.shopService.selectedShopId.getValue(),\r\n        price: this.products[index].price,\r\n        stock: this.products[index].stock,\r\n        environmentFees: this.products[index].fees[0].value,\r\n        recycleFees: this.products[index].fees[1].value,\r\n      };\r\n\r\n      const productIncludesPayload = {\r\n        bundleItems: [],\r\n      };\r\n      const productTaxesPayload = {\r\n        bundleTaxes: [],\r\n      };\r\n\r\n      console.log(bundleCatalogPayload);\r\n      console.log(productIncludesPayload);\r\n\r\n      this.spinner.show();\r\n      this.bundleCatalogService\r\n        .updateBundle(bundleCatalogPayload, this.products[index].id)\r\n        .subscribe(\r\n          (data) => {\r\n            console.log(data);\r\n            this.products[index].taxes.map((item) => {\r\n              const obj = {\r\n                taxId: item.taxId,\r\n                percent: item.percent,\r\n                amount: (this.products[index].price * item.percent) / 100,\r\n              };\r\n              productTaxesPayload.bundleTaxes.push(obj);\r\n            });\r\n\r\n            console.log(productTaxesPayload);\r\n            // this.toastr.success(data.message, 'Success');\r\n            this.spinner.hide();\r\n\r\n            this.bundleCatalogService\r\n              .updateBundleTax(productTaxesPayload, this.products[index].id)\r\n              .subscribe(\r\n                (data) => {\r\n                  console.log(data);\r\n                  // this.toastr.success(data.message, 'Success');\r\n                  this.spinner.hide();\r\n                },\r\n                (error) => {\r\n                  this.toastr.error(error.error.message, 'Error');\r\n                  this.spinner.hide();\r\n                }\r\n              );\r\n          },\r\n          (error) => {\r\n            this.toastr.error(error.error.message, 'Error');\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  sendSearch(keyword) {\r\n    this.socketService.sendMessage(keyword);\r\n  }\r\n\r\n  getSuggestion() {\r\n    this.socketService.getSuggestion().subscribe((data) => {\r\n      console.log(data);\r\n      this.library = data;\r\n    });\r\n  }\r\n}\r\n","<div class=\"row m-0 p-3 bg-white d-flex justify-content-between align-items-center\">\r\n  <div class=\"col-md-3\"><h3>BUNDLE OFFER</h3></div>\r\n  <div class=\"col-md-3\">\r\n    <div class=\"row float-right\">\r\n      <button type=\"button\" class=\"btn rounded-pill add-button\" (click)=\"addButton()\">\r\n        <i class=\"fa fa-plus-circle\"></i>ADD NEW BRANCH\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<br />\r\n<div class=\"body\">\r\n  <h2 class=\"heading\">BUNDLES OFFER</h2>\r\n  <table class=\"table table-striped\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">#</th>\r\n        <th scope=\"col\">BUNDLE NAME</th>\r\n        <th scope=\"col\">QUANTITY</th>\r\n        <th scope=\"col\">PRODUCT INCLUDES</th>\r\n        <th scope=\"col\">PRICE</th>\r\n        <th scope=\"col\">TAXES</th>\r\n        <th scope=\"col\">FEES</th>\r\n        <th scope=\"col\">Actions</th>\r\n      </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n      <tr class=\"m-2\" *ngFor=\"let item of products; index as i\">\r\n        <th scope=\"row\">{{ i + 1 }}</th>\r\n        <td *ngIf=\"!item.isNewProduct\">{{ item.bundleName }}</td>\r\n        <td *ngIf=\"item.isNewProduct\">\r\n          <input\r\n            type=\"text\"\r\n            [(ngModel)]=\"item.bundleName\"\r\n            [disabled]=\"!item.action\"\r\n            placeholder=\"Bundle Name\"\r\n          />\r\n        </td>\r\n\r\n        <td>\r\n          <input type=\"number\" [(ngModel)]=\"item.stock\" [disabled]=\"!item.action\" />\r\n        </td>\r\n        <td>\r\n          <div class=\"ng-autocomplete\" *ngIf=\"item.isNewProduct\">\r\n            <ng-autocomplete\r\n              [data]=\"library\"\r\n              [searchKeyword]=\"keyword\"\r\n              placeholder=\"Add New Item\"\r\n              (selected)=\"selectEvent($event, i)\"\r\n              (inputChanged)=\"onChangeSearch($event)\"\r\n              (inputFocused)=\"onFocused($event)\"\r\n              [itemTemplate]=\"itemTemplate\"\r\n              [notFoundTemplate]=\"notFoundTemplate\"\r\n            >\r\n            </ng-autocomplete>\r\n\r\n            <ng-template #itemTemplate let-item>\r\n              <a [innerHTML]=\"item.name\"></a>\r\n            </ng-template>\r\n\r\n            <ng-template #notFoundTemplate let-notFound>\r\n              <div [innerHTML]=\"notFound\"></div>\r\n            </ng-template>\r\n          </div>\r\n          <div *ngFor=\"let itemInclude of item.productIncludes\">\r\n            <span class=\"badge badge-success m-2 pl-3 pr-3\">{{ itemInclude.product_name }}</span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <input type=\"number\" [(ngModel)]=\"item.price\" [disabled]=\"!item.action\" />\r\n        </td>\r\n\r\n        <td class=\"input-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <select\r\n              class=\"custom-select input-group-text\"\r\n              id=\"inputGroupSelect01\"\r\n              [(ngModel)]=\"item.selectedTax\"\r\n            >\r\n              <option *ngFor=\"let tax of item.taxes; index as ind\" [value]=\"ind\">\r\n                {{ tax.shortName }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <input\r\n            type=\"number\"\r\n            [(ngModel)]=\"item.taxes[item.selectedTax].percent\"\r\n            [disabled]=\"!item.action\"\r\n          />\r\n          <div class=\"input-group-prepend\">\r\n            <div class=\"input-group-text\">%</div>\r\n          </div>\r\n        </td>\r\n        <td class=\"\">\r\n          <span class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <select\r\n                class=\"custom-select input-group-text\"\r\n                id=\"inputGroupSelect01\"\r\n                [(ngModel)]=\"item.selectedFees\"\r\n              >\r\n                <option *ngFor=\"let fees of item.fees; index as ind\" [value]=\"ind\">\r\n                  {{ fees.shortName }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <input\r\n              type=\"number\"\r\n              [(ngModel)]=\"item.fees[item.selectedFees].value\"\r\n              [disabled]=\"!item.action\"\r\n            />\r\n          </span>\r\n        </td>\r\n        <td class=\"dropdown\">\r\n          <a\r\n            class=\"btn btn-default\"\r\n            [ngClass]=\"item.action ? 'actionButtonSave' : 'actionButtonEdit'\"\r\n            data-toggle=\"dropdown\"\r\n            href=\"#\"\r\n            (click)=\"item.action ? (item.isNewProduct ? save(i) : update(i)) : toggle(i)\"\r\n          >\r\n            {{ item.action ? \"Save\" : \"Edit\" }}\r\n          </a>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { ProductCatalogService } from '../../../../../services/productCatalog/product-catalog.service';\r\n\r\n@Component({\r\n  selector: 'app-bulk-upload',\r\n  templateUrl: './bulk-upload.component.html',\r\n  styleUrls: ['./bulk-upload.component.scss'],\r\n})\r\nexport class BulkUploadComponent implements OnInit {\r\n  @Output() close = new EventEmitter<any>();\r\n  @Output() upload = new EventEmitter<any>();\r\n  constructor(\r\n    private spinner: NgxSpinnerService,\r\n    private toastr: ToastrService,\r\n    private productCatalogService: ProductCatalogService\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  myFiles: any[] = [];\r\n  myFilesThumb = [];\r\n  formData = new FormData();\r\n  fileName = '';\r\n\r\n  onFileChange(event) {\r\n    console.log(event.target.files);\r\n    for (var i = 0; i < event.target.files.length; i++) {\r\n      this.fileName = event.target.files[i].name;\r\n      if (this.fileName.match(/.csv/g) == null && this.fileName.match(/.txt/g) == null &&\r\n       this.fileName.match(/.xls/g) == null && this.fileName.match(/.xlsx/g) == null) {\r\n        console.log('file formate not supported');\r\n        this.toastr.error('Invalid fle formate', 'Error');\r\n        this.fileName = '';\r\n        return;\r\n      }\r\n\r\n      this.formData.append(`products`, event.target.files[i], `products.csv`);\r\n    }\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.fileName) {\r\n      this.upload.emit(this.formData);\r\n      this.close.emit(false);\r\n    } else {\r\n      this.toastr.error('Please Select File First', 'Error');\r\n    }\r\n  }\r\n}\r\n","<div class=\"body\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row p-5 justify-content-center\">\r\n      <div class=\"col-12\">\r\n        <div class=\"close\">\r\n          <button class=\"btn rounded-pill close-button\" (click)=\"close.emit(false)\">\r\n            <i class=\"fa fa-close\"></i>\r\n          </button>\r\n        </div>\r\n        <div class=\"p-2\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12 mb-5\">\r\n              <h2>UPLOAD YOUR PRODUCT CATALOG</h2>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col-12 p-0\">\r\n              <div class=\"input-group border rounded-pill p-1\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"No file selected\"\r\n                  aria-describedby=\"button-addon4\"\r\n                  class=\"form-control bg-none border-0\"\r\n                  [(ngModel)]=\"fileName\"\r\n                />\r\n                <input\r\n                  id=\"file-input\"\r\n                  type=\"file\"\r\n                  multiple\r\n                  class=\"form-control\"\r\n                  (change)=\"onFileChange($event)\"\r\n                  style=\"display: none\"\r\n                />\r\n                <label for=\"file-input\" style=\"float: right\">\r\n                  <b class=\"rounded-pill btn browseFile pt-0 pb-0\"> Browse </b>\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\"><b>SUPPORTED FORMATS CSV, TXT, XLS, XLSX </b></div>\r\n          </div>\r\n          <div class=\"row pr-3 mt-5\">\r\n            <!-- <div class=\"col-md-8\">\r\n              <div class=\"mb-3 pl-3\">\r\n                <label class=\"checkbox\"\r\n                  >Mailing Address is different than business address\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked=\"checked\"\r\n                    formControlName=\"isMailingAddressDifferent\"\r\n                  />\r\n                  <span class=\"checkmark\"></span>\r\n                </label>\r\n                <label class=\"form-check-label\" for=\"flexCheckDefault\"> </label>\r\n              </div>\r\n            </div> -->\r\n            <div class=\"col-12\">\r\n              <b> Please make sure that the file contains following columns:</b>\r\n              <p>Product Name, Price, Tax, Environmental Fees, Recycle Fees</p>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <div class=\"col-7\">\r\n                <input type=\"radio\" id=\"modify\" name=\"productCatalogue\" value=\"modify\">\r\n                <label style=\"margin-left: 10px;\" for=\"modify\"> Modify existing Product Catalogue</label><br>\r\n                <input type=\"radio\" id=\"replace\" name=\"productCatalogue\" value=\"replace\">\r\n                <label style=\"margin-left: 10px;\" for=\"replace\"> Replace the existing one</label><br>\r\n              </div>\r\n              <div class=\"\">\r\n                <div class=\"row float-right\">\r\n                  <!-- <button type=\"submit\" class=\"btn rounded-pill button\" (click)=\"onSubmit()\">\r\n                    SAVE CHANGES\r\n                  </button> -->\r\n                  <button type=\"submit\" class=\"btn rounded-pill button\" (click)=\"onSubmit()\">\r\n                    Upload\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            \r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { environment } from '../../../environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ProductTaxService {\r\n  constructor(private httpClient: HttpClient) {}\r\n  baseURL: any = environment.baseURL;\r\n\r\n  addProductTax(payload): Observable<any> {\r\n    const token = JSON.parse(localStorage.getItem('user')).accessToken;\r\n    let headers = new HttpHeaders();\r\n    headers = headers.set('Authorization', `Bearer ${token}`);\r\n    return this.httpClient.post<any>(`${this.baseURL}inventory/tax`, payload, {\r\n      headers,\r\n    });\r\n  }\r\n\r\n  bulkUpsertProductTax(payload): Observable<any> {\r\n    const token = JSON.parse(localStorage.getItem('user')).accessToken;\r\n    let headers = new HttpHeaders();\r\n    headers = headers.set('Authorization', `Bearer ${token}`);\r\n    return this.httpClient.post<any>(`${this.baseURL}inventory/tax/bulkUpsert`, payload, {\r\n      headers,\r\n    });\r\n  }\r\n\r\n  getProductTaxByShop(pageSize, pageNum, shopId): Observable<any> {\r\n    const token = JSON.parse(localStorage.getItem('user')).accessToken;\r\n    let headers = new HttpHeaders();\r\n    headers = headers.set('Authorization', `Bearer ${token}`);\r\n    return this.httpClient.get<any>(\r\n      `${this.baseURL}inventory/tax/${shopId}?pageSize=${pageSize}&pageNum=${pageNum}`,\r\n      {\r\n        headers,\r\n      }\r\n    );\r\n  }\r\n\r\n  updateProductTax(payload, productId): Observable<any> {\r\n    const token = JSON.parse(localStorage.getItem('user')).accessToken;\r\n    let headers = new HttpHeaders();\r\n    headers = headers.set('Authorization', `Bearer ${token}`);\r\n    return this.httpClient.patch<any>(`${this.baseURL}inventory/tax/${productId}`, payload, {\r\n      headers,\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}